<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Launching Env-Guard: No more mistakes in production! | Joao Grassi's blog</title>
<meta name=keywords content="env-guard,front-end,chrome-extension">
<meta name=description content="Env-Guard is a chrome extension that lets you modify some parts of your chrome tabs. By doing so, you can easily identify whether you should be extra careful or just do whatever you want in your app.">
<meta name=author content="Joao Grassi">
<link rel=canonical href=https://blog.joaograssi.com/launching-env-guard/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.a62f9b67a2ed8d7ac28c4555d29a3928a4b4f7b8f363dc332d58a581310d0418.css integrity="sha256-pi+bZ6LtjXrCjEVV0po5KKS097jzY9wzLVilgTENBBg=" rel="preload stylesheet" as=style>
<script defer crossorigin=anonymous src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://blog.joaograssi.com/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://blog.joaograssi.com/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://blog.joaograssi.com/favicon-32x32.png>
<link rel=apple-touch-icon href=https://blog.joaograssi.com/apple-touch-icon.png>
<link rel=mask-icon href=https://blog.joaograssi.com/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.92.2">
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript><meta property="og:title" content="Launching Env-Guard: No more mistakes in production!">
<meta property="og:description" content="Env-Guard is a chrome extension that lets you modify some parts of your chrome tabs. By doing so, you can easily identify whether you should be extra careful or just do whatever you want in your app.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://blog.joaograssi.com/launching-env-guard/">
<meta property="og:image" content="https://blog.joaograssi.com/launching-env-guard/launching-env-guard-cover.png"><meta property="article:section" content="posts">
<meta property="article:published_time" content="2018-02-19T19:58:00+00:00">
<meta property="article:modified_time" content="2018-02-19T19:58:00+00:00">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://blog.joaograssi.com/launching-env-guard/launching-env-guard-cover.png">
<meta name=twitter:title content="Launching Env-Guard: No more mistakes in production!">
<meta name=twitter:description content="Env-Guard is a chrome extension that lets you modify some parts of your chrome tabs. By doing so, you can easily identify whether you should be extra careful or just do whatever you want in your app.">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://blog.joaograssi.com/posts/"},{"@type":"ListItem","position":3,"name":"Launching Env-Guard: No more mistakes in production!","item":"https://blog.joaograssi.com/launching-env-guard/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Launching Env-Guard: No more mistakes in production!","name":"Launching Env-Guard: No more mistakes in production!","description":"Env-Guard is a chrome extension that lets you modify some parts of your chrome tabs. By doing so, you can easily identify whether you should be extra careful or just do whatever you want in your app.","keywords":["env-guard","front-end","chrome-extension"],"articleBody":"It has been almost two months now since I uploaded my first Chrome extension to the Chrome Store. And now, I finally have a Blog where I can officially talk about it with the world!\nTL;DR I have built a Chrome Extension to help developers avoid making mistakes while dealing with “Production Like” instances of their apps. Click here to see the links\nThe problem My friends and I work in a Web application that is mainly an internal administration tool. The application does all sorts of complicated things and touches several domains within the company. In a normal day at work, we develop against our Local version of the app. Then, when we want to test it, we deploy it to a QA environment. When all is good and tested, we deploy to Staging and finally to Production. So, doing the math, we have 4 environments where our app runs. And.. it looks exactly the same in all of them.\nIf you are following with me you probably see where I’m going with this. In our current setup, it’s pretty darn easy to change things in the application thinking you were in a “safe” environment, but it turns out you were actually in Production. *Sigh\nIntroducing Env-Guard We thought: Wouldn’t be nice if we could easily identify at which environment we are looking at? Something similar as you can do on SSMS on the Query Tabs when fiddling around production databases (scared).\nSo, I decided to create a Chrome Extension! In the end what I wanted was to change the Chrome Tab based on the URL. The Tab should be modified in some way that would enables us to easily distinguish between our environments.\nHow it works The idea is pretty simple: You create Rules for your environments. A Rule contains a combination of fields that are used to identify and later modify the Chrome Tab associated with your app. The most important parts of a Rule are the URL and the Operator fields:\n  URL: This is just a text. It can be a full URL or parts of it.\n  Operator: The operator is what the extension will use combined with the URL provided to find the tab. The extension acts on the location.href and applies the operators on it. If it matches, then we have a Rule to apply! An example of an Operator could be Starts With or a Regex expression. The extension supports more, of course.\n  URL operator  What can I customize on my Tab? The most important requirement for us at least, was to be able to look at a Tab and know immediately which Environment it belongs to. My initial idea was to change the background color of the whole tab, but I soon discovered that Chrome does not allow it. Bummer.\nWhat we could do then? Basically 3 things:\n Change the favicon Change the Tab Title Add some banner on the top of the page, with some very extravagant color and text  All of this so we could do this at the end:\nSimulating a production website  Pretty cool, huh? Of couse, you don’t have to use all three customizations. You can pick them as it make sense for you.\nConclusion I had a lot of fun building this. It was my first Chrome Extension and I learned a bunch along the way. Plus, it saved me (and hopefully others) from making mistakes in Production. Basically, the main technologies/frameworks I used were:\n Angular + Material @ngrx/store  The extension is open source and it is avaiable on Github. I’m open for contributions and improvements. There’s still a lot to do :)\nHere are the links: Github Repo, Chome Store\nWhen I started developing this, I found another very similar extension called Tab Modifier. It has the same concept but contains way more features than mine, because of that it can be used in many other ways. Env-Guard is developer “oriented” and will always have this constraint. I plan to only add features that make sense to us. So, if you want to modify your tabs definitely check this one out. And thanks @sylouuu for understanding the goals of my extension.\n","wordCount":"696","inLanguage":"en","image":"https://blog.joaograssi.com/launching-env-guard/launching-env-guard-cover.png","datePublished":"2018-02-19T19:58:00Z","dateModified":"2018-02-19T19:58:00Z","author":{"@type":"Person","name":"Joao Grassi"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://blog.joaograssi.com/launching-env-guard/"},"publisher":{"@type":"Organization","name":"Joao Grassi's blog","logo":{"@type":"ImageObject","url":"https://blog.joaograssi.com/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://blog.joaograssi.com accesskey=h title="Joao Grassi's blog (Alt + H)">Joao Grassi's blog</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://blog.joaograssi.com/archives/ title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://blog.joaograssi.com/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://blog.joaograssi.com/series/ title=Series>
<span>Series</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<h1 class=post-title>
Launching Env-Guard: No more mistakes in production!
</h1>
<div class=post-description>
Env-Guard is a chrome extension that lets you modify some parts of your chrome tabs. By doing so, you can easily identify whether you should be extra careful or just do whatever you want in your app.
</div>
</header>
<figure class=entry-cover>
<img loading=lazy src=https://blog.joaograssi.com/launching-env-guard/launching-env-guard-cover.png alt="Post image featuring env-guard logo">
</figure>
<div class=post-content><p>It has been almost two months now since I uploaded my first Chrome extension to the Chrome Store. And now, I <strong>finally</strong> have a Blog where I can officially talk about it with the world!</p>
<h2 id=tldr>TL;DR<a hidden class=anchor aria-hidden=true href=#tldr>#</a></h2>
<p>I have built a Chrome Extension to help developers avoid making mistakes while dealing with &ldquo;Production Like&rdquo; instances of their apps. <a href=#conclusion>Click here to see the links</a></p>
<h2 id=the-problem>The problem<a hidden class=anchor aria-hidden=true href=#the-problem>#</a></h2>
<p>My friends and I work in a Web application that is mainly an internal administration tool. The application does all sorts of complicated things and touches several domains within the company.
In a normal day at work, we develop against our <code>Local</code> version of the app. Then, when we want to test it, we deploy it to a <code>QA</code> environment. When all is good and tested, we deploy to <code>Staging</code> and finally to <code>Production</code>. So, doing the math, we have <strong>4</strong> environments where our app runs. And.. it looks <strong>exactly</strong> the same in all of them.</p>
<p>If you are following with me you probably see where I&rsquo;m going with this. In our current setup, it&rsquo;s pretty darn easy to change things in the application thinking you were in a &ldquo;safe&rdquo; environment, but it turns out you were actually in Production. *Sigh</p>
<h2 id=introducing-env-guard>Introducing Env-Guard<a hidden class=anchor aria-hidden=true href=#introducing-env-guard>#</a></h2>
<p>We thought: Wouldn&rsquo;t be nice if we could easily identify at which environment we are looking at? Something similar as you can do on SSMS on the <a href=https://solutioncenter.apexsql.com/wp-content/uploads/2017/10/word-image-58.png>Query Tabs</a> when fiddling around production databases (scared).</p>
<p>So, I decided to create a Chrome Extension! In the end what I wanted was to change the Chrome Tab based on the URL. The Tab should be modified in some way that would enables us to easily distinguish between our environments.</p>
<h2 id=how-it-works>How it works<a hidden class=anchor aria-hidden=true href=#how-it-works>#</a></h2>
<p>The idea is pretty simple: You create <em>Rules</em> for your environments. A Rule contains a combination of fields that are used to identify and later modify the Chrome Tab associated with your app. The most important parts of a Rule are the <code>URL</code> and the <code>Operator</code> fields:</p>
<ul>
<li>
<p><strong>URL</strong>: This is just a text. It can be a full URL or parts of it.</p>
</li>
<li>
<p><strong>Operator</strong>: The operator is what the extension will use combined with the URL provided to find the tab. The extension acts on the <code>location.href</code> and applies the operators on it. If it matches, then we have a Rule to apply! An example of an Operator could be <code>Starts With</code> or a <code>Regex expression</code>. The extension supports more, of course.</p>
</li>
</ul>
<figure class=figure-border>
<img class=img-center src=/launching-env-guard/url_operator.jpg alt="URL operator" loading=lazy>
<figcaption class=img-caption>URL operator</figcaption>
</figure>
<h2 id=what-can-i-customize-on-my-tab>What can I customize on my Tab?<a hidden class=anchor aria-hidden=true href=#what-can-i-customize-on-my-tab>#</a></h2>
<p>The most important requirement for us at least, was to be able to look at a Tab and know immediately which Environment it belongs to. My initial idea was to change the background color of the whole tab, but I soon discovered that Chrome does not allow it. Bummer.</p>
<p>What we could do then? Basically 3 things:</p>
<ul>
<li>Change the favicon</li>
<li>Change the Tab Title</li>
<li>Add some banner on the top of the page, with some very extravagant color and text</li>
</ul>
<p>All of this so we could do this at the end:</p>
<figure class=figure-border>
<img class=img-center src=/launching-env-guard/prod_google.jpg alt="Simulating a production website" loading=lazy>
<figcaption class=img-caption>Simulating a production website</figcaption>
</figure>
<p>Pretty cool, huh? Of couse, you don&rsquo;t have to use all three customizations. You can pick them as it make sense for you.</p>
<h2 id=a-nameconclusionaconclusion>Conclusion<a hidden class=anchor aria-hidden=true href=#a-nameconclusionaconclusion>#</a></h2>
<p>I had a lot of fun building this. It was my first Chrome Extension and I learned a bunch along the way. Plus, it saved me (and hopefully others) from making mistakes in Production.
Basically, the main technologies/frameworks I used were:</p>
<ul>
<li><a href=https://github.com/angular/angular>Angular</a> + <a href=https://github.com/angular/material2>Material</a></li>
<li><a href=https://github.com/ngrx/store>@ngrx/store</a></li>
</ul>
<p>The extension is open source and it is avaiable on Github. I&rsquo;m open for contributions and improvements. There&rsquo;s still a lot to do :)</p>
<p>Here are the links: <a href=https://github.com/joaopgrassi/env-guard>Github Repo</a>, <a href=https://chrome.google.com/webstore/detail/env-guard/hldheamjpbaceigalkfkjogkfofankpp>Chome Store</a></p>
<p>When I started developing this, I found another very similar extension called <a href=https://github.com/sylouuu/chrome-tab-modifier>Tab Modifier</a>. It has the same concept but contains way more features than mine, because of that it can be used in many other ways. Env-Guard is developer &ldquo;oriented&rdquo; and will always have this constraint. I plan to only add features that make sense to us.
So, if you want to modify your tabs definitely check this one out. And thanks <a href=https://github.com/sylouuu>@sylouuu</a> for understanding the goals of my extension.</p>
</div>
<footer class=post-footer>
<ul class=post-tags>
<li><a href=https://blog.joaograssi.com/tags/env-guard/>env-guard</a></li>
<li><a href=https://blog.joaograssi.com/tags/front-end/>front-end</a></li>
<li><a href=https://blog.joaograssi.com/tags/chrome-extension/>chrome-extension</a></li>
</ul>
</footer>
</article>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://blog.joaograssi.com>Joao Grassi's blog</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script data-goatcounter=https://trinity.goatcounter.com/count src=/count.js type=text/javascript></script>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>